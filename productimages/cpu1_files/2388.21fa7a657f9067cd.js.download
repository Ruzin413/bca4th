"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2388],{41884:function(e,t,r){r.d(t,{Z:function(){return h}});var l=r(85893);let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=(e,t,r)=>n.charAt(e>>2)+n.charAt((3&e)<<4|t>>4)+n.charAt((15&t)<<2|r>>6)+n.charAt(63&r),a=(e,t,r)=>"data:image/gif;base64,R0lGODlhAQABAPAA".concat(s(r,e,t)+s(t,e,r),"/yH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==");var o=r(25675),i=r.n(o),u=r(45697),c=r.n(u);let d=e=>{let{width:t,height:r,src:n,onError:s,...o}=e;return(0,l.jsx)(i(),{src:n,width:t,height:r,onError:s,placeholder:"blur",blurDataURL:a(236,240,241),...o})};d.propTypes={width:c().string,height:c().string,src:c().string.isRequired,onError:c().func};var h=d},69065:function(e,t,r){var l=r(85893),n=r(45697),s=r.n(n);let a=e=>{let{size:t,className:r}=e;return(0,l.jsx)("svg",{width:"sm"===t?"14":"18",height:"sm"===t?"14":"18",viewBox:"0 0 18 18",fill:"none",className:r,xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M11.2453 9L17.5302 2.71516C17.8285 2.41741 17.9962 2.01336 17.9966 1.59191C17.997 1.17045 17.8299 0.76611 17.5322 0.467833C17.2344 0.169555 16.8304 0.00177586 16.4089 0.00140366C15.9875 0.00103146 15.5831 0.168097 15.2848 0.465848L9 6.75069L2.71516 0.465848C2.41688 0.167571 2.01233 0 1.5905 0C1.16868 0 0.764125 0.167571 0.465848 0.465848C0.167571 0.764125 0 1.16868 0 1.5905C0 2.01233 0.167571 2.41688 0.465848 2.71516L6.75069 9L0.465848 15.2848C0.167571 15.5831 0 15.9877 0 16.4095C0 16.8313 0.167571 17.2359 0.465848 17.5342C0.764125 17.8324 1.16868 18 1.5905 18C2.01233 18 2.41688 17.8324 2.71516 17.5342L9 11.2493L15.2848 17.5342C15.5831 17.8324 15.9877 18 16.4095 18C16.8313 18 17.2359 17.8324 17.5342 17.5342C17.8324 17.2359 18 16.8313 18 16.4095C18 15.9877 17.8324 15.5831 17.5342 15.2848L11.2453 9Z",fill:"black"})})};a.propTypes={size:s().oneOf(["sm","md"]),className:s().string},t.Z=a},42388:function(e,t,r){r.r(t),r.d(t,{default:function(){return y}});var l=r(85893),n=r(7715),s=r(41664),a=r.n(s),o=r(45697),i=r.n(o),u=r(67294),c=r(8193),d=r(17682),h=r(25776),p=r(21050),x=r(3186),m=r(26420),v=r(67848);let f=()=>(0,v.a)({queryKey:[x.t.popularResults],async queryFn(){var e;let t=await m.Z.get("/search/list");return null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.data}});var g=r(87930);let b=()=>{let{handleClearSearchInput:e,handleChangeInputForSearchModal:t,search:r,products:l,categories:n,loading:s}=(0,g.Z)();return{handleChangeInputForSearchModal:t,handleClearSearchInput:e,search:r,products:l,categories:n,loading:s}},w=e=>{let{open:t,handleClose:r}=e,[s,o]=(0,u.useState)(0),{data:i}=(0,d.OQ)(),{data:x}=f(),m=(0,u.useRef)(),{search:v,handleChangeInputForSearchModal:g,products:w,categories:y}=b();(0,u.useEffect)(()=>{let e;if(t){var r,l;null===(r=m.current)||void 0===r||r.focus(),null===(l=m.current)||void 0===l||l.scrollIntoView()}return()=>{m.current&&m.current.blur(),clearTimeout(e)}},[t]),(0,u.useEffect)(()=>{let e;return i&&i.length>0&&(e=setInterval(()=>{o(e=>(e+1)%i.length)},3e3)),()=>{e&&clearInterval(e)}},[i]);let j=i?i[s].name:null;return(0,l.jsx)(n.ZP,{open:t,anchor:"bottom",onClose:r,children:(0,l.jsxs)("div",{className:"bg-white h-[100vh]",children:[(0,l.jsx)("div",{className:"fixed top-0 z-30 w-full bg-white border border-t-0 border-l-0 border-r-0 border-b-1 border-gray",children:(0,l.jsxs)("div",{className:"flex items-center mx-[16px]",children:[(0,l.jsx)("button",{onClick:r,children:(0,l.jsx)(c.kyg,{className:"shrink-0 w-[20px] h-[20px]"})}),(0,l.jsx)("input",{className:"flex-1 ml-2 border-none rounded-5 py-[13px] px-[10px] text-base text-black placeholder:text-gray focus:outline-none",placeholder:j,ref:m,autoFocus:!0,onChange:g,value:v})]})}),(0,l.jsxs)("div",{className:"rounded-[3px] cursor-default overflow-auto mt-[50px]",children:[""===v&&(null==x?void 0:x.length)>0&&(0,l.jsxs)("div",{className:"px-[16px]",children:[(0,l.jsx)("h3",{className:"pt-2 pb-3 text-lg font-medium",children:"Popular searches"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:null==x?void 0:x.map(e=>(0,l.jsx)(a(),{href:"/search/result?q=".concat(null==e?void 0:e.search_text,"&category_type=search"),onClick:r,prefetch:!1,children:(0,l.jsx)("p",{className:"flex items-center px-4 py-1 mt-0 break-all border border-red rounded-10",children:null==e?void 0:e.search_text})},null==e?void 0:e.id))})]}),(null==y?void 0:y.length)>0&&(0,l.jsx)(h.Z,{close:r,data:y,text:v}),""!==v&&(0,l.jsx)(p.Z,{close:r,data:w,text:v})]})]})})};w.propTypes={open:i().bool.isRequired,handleClose:i().func.isRequired};var y=w},17682:function(e,t,r){r.d(t,{ZP:function(){return b},OQ:function(){return v}});var l=r(85893),n=r(69065),s=r(67294);let a=()=>(0,l.jsxs)("svg",{width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M13 13L18 18",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M8 15C11.866 15 15 11.866 15 8C15 4.13401 11.866 1 8 1C4.13401 1 1 4.13401 1 8C1 11.866 4.13401 15 8 15Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]});var o=r(3186),i=r(26420),u=r(86215),c=r(67848),d=r(5152),h=r.n(d),p=r(79661),x=r(87930);let m=async()=>{var e;let t=await i.Z.get("/search-tags");return null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.data},v=()=>(0,c.a)({queryKey:[o.t.placeholdersList],queryFn:m}),f=h()(()=>r.e(4123).then(r.bind(r,94123)),{loadableGenerated:{webpack:()=>[94123]}}),g=()=>{let[e,t]=(0,s.useState)(0),r=(0,s.useRef)(null),o=(0,s.useRef)(null),{data:i}=v();(0,s.useEffect)(()=>{let e;return i&&i.length>0&&(e=setInterval(()=>{t(e=>(e+1)%i.length)},3e3)),()=>{e&&clearInterval(e)}},[i]);let c=i?i[e].name:null,{handleClose:d,handleSearch:h,handleClearSearchInput:m,keyboardNavigation:g,handleChangeInput:b,open:w,search:y,products:j,categories:C,cursor:N,hoverValue:k}=(0,x.Z)();return(0,p.t$)(r,d),(0,l.jsxs)(u.J,{className:"relative w-full",ref:r,children:[(0,l.jsxs)("form",{onSubmit:h,className:"hidden ml-32 mr-32 border rounded-md sm:flex border-gray md:ml-60 md:mr-60 h-41",children:[(0,l.jsx)("input",{className:"w-full p-2.5 ml-[5px] rounded-t-md border-0 focus:outline-none placeholder:text-gray",placeholder:c,onChange:b,value:(null==k?void 0:k.name)||y,onKeyDown:e=>g(e)}),(null==y?void 0:y.length)>0&&(0,l.jsx)("div",{className:"flex items-center mr-3 cursor-pointer",onClick:m,children:(0,l.jsx)(n.Z,{size:"sm"})}),(0,l.jsx)("button",{type:"submit",className:"flex items-center justify-center pl-3 -m-[1px] pr-3 rounded-md w-42 h-41 bg-dark-red cursor-pointer",children:(0,l.jsx)(a,{})})]}),(0,l.jsx)(f,{ref:o,open:w,text:y,products:j,category:C,cursor:N,handleClose:d})]})};var b=g},25776:function(e,t,r){var l=r(85893),n=r(81407),s=r(41664),a=r.n(s),o=r(45697),i=r.n(o);let u=e=>{let{text:t,data:r,cursor:s,close:o}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h3",{className:"bg-[#9D9D9D] py-2 rounded-5 text-sm text-white px-5 font-bold",children:"Categories"}),null==r?void 0:r.map((e,r)=>{let{id:i,name:u}=e;return(0,l.jsx)("div",{className:"",children:(0,l.jsx)(a(),{href:"/",className:"px-3 sm:px-5 py-2 block text-sm hover:bg-[#FFF1F1] text-[#191919] hover:text-[#191919] ".concat(Number(s)===Number(r)&&"bg-[#FFF1F1]"),dangerouslySetInnerHTML:{__html:(0,n.F)(u,t)},onClick:o,prefetch:!1})},i)}),(0,l.jsx)("div",{className:"border-[#9D9D9D] border-b sm:mx-5"})]})};u.propTypes={text:i().string.isRequired,data:i().arrayOf(i().shape({id:i().string.isRequired,name:i().string.isRequired})),cursor:i().number,close:i().func},t.Z=u},21050:function(e,t,r){var l=r(85893),n=r(41884),s=r(81407),a=r(41664),o=r.n(a),i=r(45697),u=r.n(i);let c=e=>{let{text:t,data:r,cursor:a,skip:i,close:u}=e;return(0,l.jsx)("div",{className:"overflow-auto",children:null==r?void 0:r.map((e,r)=>{let{name:c,slug:d,formatted_selling_price:h,image:p}=e;return(0,l.jsx)(o(),{className:"px-3 sm:px-5 py-2 block  hover:bg-[#FFF1F1] ".concat(Number(a)===Number(i+r)&&"bg-[#FFF1F1] ring-2 ring-dark-red ring-inset"),href:"/product/".concat(d),onClick:u,prefetch:!1,children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[p&&(0,l.jsx)(n.Z,{src:p,alt:c,width:40,height:40,objectFit:"contain",className:"w-[40px]"}),(0,l.jsx)("p",{className:"text-sm w-3/4 text-[#191919] hover:text-[#191919] first-letter:capitalize",dangerouslySetInnerHTML:{__html:(0,s.F)(c,t)}})]}),(0,l.jsxs)("p",{className:"flex-1 m-0 whitespace-nowrap text-base font-medium text-[#BE1E2D] text-right",children:["रु ",h]})]})},c)})})};c.propTypes={text:u().string.isRequired,data:u().arrayOf(u().shape({id:u().string.isRequired,name:u().string.isRequired,slug:u().string.isRequired,selling_price:u().number.isRequired})),cursor:u().number,skip:u().number,close:u().func},t.Z=c},87930:function(e,t,r){r.d(t,{Z:function(){return c}});var l=r(11163),n=r(67294),s=r(3186),a=r(67848);async function o(){let e=await fetch("/api/search-products",{cache:"no-store"});return e.json()}let i=()=>{let{data:e}=(0,a.a)({queryKey:[s.t.searchedProductsResults],queryFn:o});return{searchedProductsResults:e,searchedCategoriesResults:[]}},u=()=>{let e=(0,l.useRouter)(),[t,r]=(0,n.useState)(!1),[s,a]=(0,n.useState)(""),[o,u]=(0,n.useState)(null),[c,d]=(0,n.useState)(-1),[h,p]=(0,n.useState)([]),{searchedProductsResults:x,searchedCategoriesResults:m}=i(),v=e=>{let t=e.split(" "),r=null==t?void 0:t.map(e=>e.toLowerCase()),l=null==x?void 0:x.filter(e=>{var t;let l=null==e?void 0:null===(t=e.name)||void 0===t?void 0:t.toLowerCase();return r.every(e=>l.includes(e))}),n=null==l?void 0:l.slice(0,10);p(n)};(0,n.useEffect)(()=>{let e=setTimeout(()=>v(s),0);return()=>{clearTimeout(e)}},[s]);let f=e=>{""===e.target.value?(r(!1),a("")):(r(!0),a(e.target.value))};(0,n.useEffect)(()=>{(null==h?void 0:h.length)>0&&c>=0&&u(h[c])},[c]);let g=t=>{let l=Number(null==h?void 0:h.length),n=1===l?0:l-1;return"ArrowDown"===t.key?d(e=>e===n?0:e+1):"ArrowUp"===t.key?d(e=>0===e?0:e-1):"Escape"===t.key?r(!1):"Enter"===t.key&&c>=0?(a(null==o?void 0:o.name),r(!1),e.push("/".concat(null==o?void 0:o.slug)),null):"Backspace"===t.key?(u(""),a(t.target.value),null):a(e=>e)},b=()=>{r(!1)},w=t=>{t.preventDefault(),o||(e.push("/search/result/?q=".concat(s,"&category_type=search")),b())},y=()=>{b(),a(""),u("")};return{handleClose:b,handleSearch:w,handleClearSearchInput:y,keyboardNavigation:g,handleChangeInput:f,handleChangeInputForSearchModal:function(e){""===e.target.value&&a(""),a(e.target.value)},open:t,search:s,products:h,categories:m,cursor:c,hoverValue:o}};var c=u},81407:function(e,t,r){r.d(t,{F:function(){return l}});function l(e,t){let r=null==e?void 0:e.toLowerCase(),l=RegExp(null==t?void 0:t.toLowerCase(),"g");return r.replace(l,"<b>".concat(t,"</b>"))}}}]);